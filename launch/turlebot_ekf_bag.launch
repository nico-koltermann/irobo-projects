<?xml version="1.0"?>
<launch>

  <arg name="enable_rviz" default="true"/>

  <include file="$(find turtlebot3_custom)/launch/turtlebot3_localization.launch"/>

  <include file="$(find turtle3_gridmap_to_pcl)/launch/turtle3_gridmap_to_pcl.launch"/>

  <param name="use_sim_time" value="true"/>

  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="map_scan_tf2" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap base_link" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_1" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 base_link base_scan" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_11" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap map" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_1112" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap odom" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_12" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap base_scan" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_base_footprint" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap base_footprint" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_1212" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 odom base_link" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_2" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 odom map" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_3" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap base_scan" /> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="odom_wrt_map_tf2_4" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap base_footprint" /> -->

  <node pkg="tf2_ros" type="static_transform_publisher" name="mocap_to_odom" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap map"/>
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="mocap_to_odom1" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 map base_scan"/> -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="mocap_to_odom11" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 map base_scan"/> -->
  <node pkg="tf2_ros" type="static_transform_publisher" name="mocap_to_map" args="0.935 1.34 -0.023 0.001 -0.003 0.737 0.676 mocap odom"/>

  <!-- Launch rviz visualization-->
  <group if="$(arg enable_rviz)">
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find turtlebot3_custom)/rviz/turlebot3_config_lab1.rviz" />
  </group>

  <node name="turtlebot3_viz" pkg="turtlebot3_viz" type="turtlebot3_viz_ekf_gt.py" output="screen"></node>

</launch> 